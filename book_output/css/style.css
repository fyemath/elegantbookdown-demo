.caption {
  color: #777;
  margin-top: 10px;
}
p code {
  white-space: inherit;
}
pre {
  word-break: normal;
  word-wrap: normal;
}
pre code {
  white-space: inherit;
}

/* Sidebar formating --------------------------------------------*/

.sidebar {
  border: 1px solid #ccc;
}

.rmdwarn {
  border: 1px solid #EA4335;
}

.rmdnote {
  border: 1px solid #FBBC05;
}

.rmdtip {
  border: 1px solid #34A853;
}

.sidebar, .rmdwarn, .rmdnote, .rmdtip {
  border-left-width: 5px;
  border-radius: 5px;
  padding: 1em;
  margin: 1em 0;
}

.book .book-body .page-wrapper .page-inner section.normal div.rmdwarn > :first-child,
.book .book-body .page-wrapper .page-inner section.normal div.rmdnote > :first-child,
.book .book-body .page-wrapper .page-inner section.normal div.rmdtip > :first-child,
.book .book-body .page-wrapper .page-inner section.normal div.sidebar > :first-child {
  margin-top: 0;
}

.book .book-body .page-wrapper .page-inner section.normal div.rmdwarn > :last-child,
.book .book-body .page-wrapper .page-inner section.normal div.rmdnote > :last-child,
.book .book-body .page-wrapper .page-inner section.normal div.rmdtip > :last-child,
.book .book-body .page-wrapper .page-inner section.normal div.sidebar > :last-child {
  margin-bottom: 0;
}

body {
    counter-reset: chapter 1;
    counter-reset: section 1;
    counter-reset: thmnum 0;
    counter-reset: defnum 0;
    counter-reset: exmnum 0;
    counter-reset: exrnum 0;
}

div.section.level1 {
    counter-increment: chapter;
}

div.section.level2 {
    counter-increment: section;
}

.thm, .lem, .cor {
    display: block;
    border: 1px solid rgb(255,134,24);
    background-color: rgba(255,134,24,0.05);
    -moz-border-radius: 5px;
    -webkit-border-radius: 5px;
    border-radius: 5px;
    margin-bottom: 1em;
    margin-top: 2em;
    padding: 0 7px;
    counter-increment: thmnum;
}

.prop {
    margin-top: 2em;
    display: block;
    border: 1px solid rgb(0,174,247);
    background-color: rgba(0,174,247,0.05) ;
    -moz-border-radius: 5px;
    -webkit-border-radius: 5px;
    border-radius: 5px;
    margin-bottom: 1em;
    margin-top: 2em;
    padding: 0 7px;
    counter-increment: thmnum;
}

.defn, .sol {
    display: block;
    border: 1px solid rgb(0,166,82);
    background-color: rgba(0,166,82, 0.05);
    -moz-border-radius: 5px;
    -webkit-border-radius: 5px;
    border-radius: 5px;
    margin-bottom: 1em;
    margin-top: 2em;
    padding: 0 7px;
    counter-increment: defnum;
}

.exam, .exer {
    margin-top: 2em;
    display: block;
    border: 1px solid rgba(0,166,82,0.8);
    /* background-color: rgb(175,153,8); */
    -moz-border-radius: 5px;
    -webkit-border-radius: 5px;
    border-radius: 5px;
    margin-bottom: 1em;
    margin-top: 2em;
    padding: 0 7px;
}


.exam {
    counter-increment: exmnum;
}

.exer {
    counter-increment: exrnum;
}

.thm:before {
    display: block;
    font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
    font-weight: bold;
    content: "定理" counter(chapter)"."counter(section)"."counter(thmnum)" "attr(name);
    float: left;
    border: 1px solid rgb(255,134,24);
    background: rgb(255,134,24);
    -moz-border-radius: 5px;
    -webkit-border-radius: 5px;
    border-radius: 5px;
    margin-left: 1em;
    margin-top: -1em;
    padding: 0 7px;
}

.thm>p:first-child {
    clear: both;
}

.defn:before {
    font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
    font-weight: bold;
    content: "Definition" counter(chapter)"."counter(section)"."counter(defnum)" "attr(name);
    float: left;
    border: 1px solid rgb(0,166,82);
    background: rgb(0,166,82);
    -moz-border-radius: 5px;
    -webkit-border-radius: 5px;
    border-radius: 5px;
    margin-left: 1em;
    margin-top: -1em;
    padding: 0 7px;
}

.sol:before {
    font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
    font-weight: bold;
    content: "Solution" counter(chapter)"."counter(section)"."counter(defnum)" "attr(name);
    float: left;
    border: 1px solid rgb(0,166,82);
    background: rgb(0,166,82);
    -moz-border-radius: 5px;
    -webkit-border-radius: 5px;
    border-radius: 5px;
    margin-left: 1em;
    margin-top: -1em;
    padding: 0 7px;
}

.defn>p:first-child {
    clear: both;
}

.lem:before {
    font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
    font-weight: bold;
    content: "Lemma" counter(chapter)"."counter(section)"."counter(thmnum) attr(name);
    float: left;
    border: 1px solid rgb(255,134,24);
    background: rgb(255,134,24);
    -moz-border-radius: 5px;
    -webkit-border-radius: 5px;
    border-radius: 5px;
    margin-left: 1em;
    margin-top: -1em;
    padding: 0 7px;
}

.lem>p:first-child {
    clear: both;
}
    
.cor:before {
    font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
    font-weight: bold;
    content: "Corollary" counter(chapter)"."counter(section)"."counter(thmnum)" "attr(name);
    float: left;
    border: 1px solid rgb(255,134,24);
    background: rgb(255,134,24);
    -moz-border-radius: 5px;
    -webkit-border-radius: 5px;
    border-radius: 5px;
    margin-left: 1em;
    margin-top: -1em;
    padding: 0 7px;
}

.cor>p:first-child {
    clear: both;
}

.prop:before {
    font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
    font-weight: bold;
    content: "Proposition" counter(chapter)"."counter(section)"."counter(thmnum)" "attr(name);
    float: left;
    border: 1px solid rgb(0,174,247);
    background: rgb(0,174,247);
    -moz-border-radius: 5px;
    -webkit-border-radius: 5px;
    border-radius: 5px;
    margin-left: 1em;
    margin-top: -1em;
    padding: 0 7px;
}

.prop>p:first-child {
    clear: both;
}
    
.exam:before {
    font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
    font-weight: bold;
    content: "Example" counter(chapter)"."counter(section)"."counter(exmnum)" "attr(name);
    float: left;
    padding-right:1em;
}

.sol:before {
    font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
    font-weight: bold;
    content: "Solution" counter(chapter)"."counter(section)"."counter(exmnum)" "attr(name);
    float: left;
    padding-right:1em;
}


.exer:before {
    font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
    font-weight: bold;
    content: "Exercise" counter(chapter)"."counter(section)"."counter(exrnum);
    float: left;
    padding-right:1em;
}

.pf::before {
    font-family: Arial, Helvetica, sans-serif;
    font-weight: bold;
    content: "Proof";
    float: left;
    padding-right:1em;
}

.pf>p:last-child::after {
    float: right;
    content: "\25A2";
}

.rmk::before {
    font-family: Arial, Helvetica, sans-serif;
    font-weight: bold;
    content: "注记";
    float: left;
    padding-right:1em;
}

div.rmdwarn::before {
  display: block;
  content: "警告";
  color: #EA4335;
  font-size: 1.1em;
  font-weight: bold;
  margin-bottom: 0.25em;
}

div.rmdnote::before {
  display: block;
  content: "注意";
  color: #FBBC05;
  font-size: 1.1em;
  font-weight: bold;
  margin-bottom: 0.25em;
}

div.rmdtip::before {
  display: block;
  content: "提示";
  color: #34A853;
  font-size: 1.1em;
  font-weight: bold;
  margin-bottom: 0.25em;
}

.todo {
  display: block;
  border: 1px solid #4285f4;
  border-left-width: 5px;
  border-radius: 5px;
  padding: 0.5em 1em;
  margin: 1em 0;
}

.todo::before {
  content: "TO DO: ";
  font-weight: bold;
  color: #4285f4;
}

.flushright {
  text-align: right;
}

blockquote > p:last-child {
  text-align: right;
}
blockquote > p:first-child {
  text-align: inherit;
}
